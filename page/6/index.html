<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>walker - 学如逆水行舟不进则退</title><meta name="author" content="walker"><meta name="copyright" content="walker"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="学如逆水行舟不进则退">
<meta property="og:type" content="website">
<meta property="og:title" content="walker">
<meta property="og:url" content="https://lvyasen.github.io/github.io/page/6/index.html">
<meta property="og:site_name" content="walker">
<meta property="og:description" content="学如逆水行舟不进则退">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://thirdwx.qlogo.cn/mmopen/vi_32/BsLUROthXHzaLGgAuYiapwa4htsNc0H2MQ8sGkVHVNqib7viaqwhXK6KDXayjQBpkPY0gleTCqAcEPL1kEwjP9S0Q/132">
<meta property="article:author" content="walker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thirdwx.qlogo.cn/mmopen/vi_32/BsLUROthXHzaLGgAuYiapwa4htsNc0H2MQ8sGkVHVNqib7viaqwhXK6KDXayjQBpkPY0gleTCqAcEPL1kEwjP9S0Q/132"><link rel="shortcut icon" href="/github.io/img/favicon.png"><link rel="canonical" href="https://lvyasen.github.io/github.io/page/6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/github.io/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'walker',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-01-03 10:07:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://thirdwx.qlogo.cn/mmopen/vi_32/BsLUROthXHzaLGgAuYiapwa4htsNc0H2MQ8sGkVHVNqib7viaqwhXK6KDXayjQBpkPY0gleTCqAcEPL1kEwjP9S0Q/132" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/github.io/archives/"><div class="headline">文章</div><div class="length-num">81</div></a><a href="/github.io/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/github.io/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/github.io/">walker</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">walker</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/lvyasen" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:18530893662@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/16/MySQL%20%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" title="MySQL 查询优化">MySQL 查询优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-16T06:53:05.000Z" title="发表于 2022-12-16 14:53:05">2022-12-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
如果把查询看作一个任务，那么它由一系列子任务组成，每个子任务都会消耗一定的时间。如果要优化查询，实际上要优化其子任务，要么消除其中一些子任务，要么减少子任务的执行次数，要么让子任务运行得更快。从客户端到服务器，然后在服务器上进行语法解析，生成执行计划，执行，并给客户端返回结果。“执行”可以被认为是整个生命周期中最重要的阶段，这其中包括大量为了检索数据对存储引擎的调用以及调用后的数据处理，包括排序、分组等。在完成这些任务的时候，查询需要在不同的地方花费时间，包括网络、CPU 计算、生成统计信息和执行计划、锁等待（互斥等待）等操作，尤其是向底层存储引擎检索数据的调用操作，这些调用需要在内存操作、CPU 操作和内存不足时导致的 I&#x2F;O 操作上消耗时

优化数据访问
简单来说就是减少访问的数据！


确认应用程序是否存在检索大量不必要的数据。一般就是减少访问的行和列。
确认 Mysql 服务层是否存在分析大量不需要的数据行。

解决办法：

解决太多的行：加上 limit 语句。
解决太多的列：select 选择需要的列，不要使用 select *
避免执行相同的查询，如用户信息可 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/15/Redis%20%E9%99%90%E6%B5%81/" title="Redis 限流">Redis 限流</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-15T00:40:51.000Z" title="发表于 2022-12-15 08:40:51">2022-12-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/Redis/">Redis</a></span></div><div class="content">基于字符串 setnx
如 30s 内限定 10 个请求，过期时间设定在 30s，当过来一个请求判断设置的 key 的 val 是否超过 10 个请求

123456if(get(request)&lt;10)&#123;	incr request 1;&#125;else&#123;	set request 10 ex 30 nx;&#125;

基于有序集合 zset 滑动窗口限流

用户的请求用一个 zset 存储，score、value 存储时间戳
只保留滑动窗口内的数据，其他的删除


12zremrangeByScore requests 0 1671066862 #先移除当前时间戳-指定时间秒数zcard requests #统计元素个数是否溢出，没有溢出请求进来

基于 List 实现令牌桶
服务端使用定时脚本生产令牌到 list 中客户端每次从右侧取出令牌

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/14/MySQL%20InnoDB/" title="MySQL InnoDB">MySQL InnoDB</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-14T01:07:55.000Z" title="发表于 2022-12-14 09:07:55">2022-12-14</time></span></div><div class="content">tags: [mysql]categories: [mysql]


内存结构
Buffer Pool：缓冲池。InnoDB 在启动时分配的一个内存区域，用于 InnoDB 在访问数据时缓存表和索引数据。可以将 80%的物理内存分配给 InnoDB 缓冲池，为了提高缓存管理的效率，使用页面链表的方式+LRU（最近最少使用）算法进行管理。
Change Buffer（Insert buffer part of buffer pool）:是一种特殊的数据结构（早期只支持 INSERT 操作的缓冲，所以也叫作 Insert Buffer），当受影响的页面不在缓冲池中时，将会缓存对辅助索引页的更改。这些更改可能是由 INSERT、UPDATE、DELETE（DML）语句执行时所导致的，当其他读取操作从磁盘中加载数据页时，如果这些数据页包含 Change Buffer 中缓存的更改操作页，那么将进行合并操作。
Adaptive Hash Index：用于管理缓冲池中的内部数据结构。
Log Buffer（Redo Log Buffer）：重做日志缓冲区。于保存将要写入重做日志磁盘文件中的数据的内 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/06/MySQL%20%E6%95%B4%E4%BD%93%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/" title="MySQL 整体性能优化思路">MySQL 整体性能优化思路</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-06T00:54:40.000Z" title="发表于 2022-12-06 08:54:40">2022-12-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">主要从以下几点进行优化：

存储方式
数据检索
索引
系统配置

存储方式选择优化的数据类型整数类型
TINYINT 8
SMALLINT 16
MEDIUMINT 24
INT 32
BIGINT 64
整数类型有可选的 UNSIGNED 属性，表示不允许负值，这大致可以使正数的上限提高一倍



实数类型
实数是带有小数部分的数字。然而，它们不仅适用于带小数的数字，也可以使用 DECIMAL 存储比 BIGINT 还大的整数。FLOAT 和 DOUBLE 类型支持使用标准的浮点运算进行近似计算。FLOAT 浮点类型通常比 DECIMAL 使用更少的空间来存储相同范围的值.MySQL 会使用 DOUBLE 进行浮点类型的内部计算。由于额外的空间需求和计算成本，应该尽量只在对小数进行精确计算时才使用 DECIMAL

字符串类型
VARCHAR 和 CHAR 是两种最主要的字符串类型

VARCHAR 和 CHAR 值通常是如何存储在磁盘上的?VARCHAR:

VARCHAR 用于存储可变长度的字符串，是最常见的字符串数据类型。它比固定长度的类型更节省空间，因为它仅使用必要的空间（即 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/06/MySQL%20%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96/" title="MySQL 索引优化">MySQL 索引优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-06T00:42:53.000Z" title="发表于 2022-12-06 08:42:53">2022-12-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
索引，在 MySQL 中也叫作键（key），是存储引擎用于快速找到记录的一种数据结构。索引是在存储引擎实现的，而不是在服务层实现的。B-tree 是按照索引列中的数据大小顺序存储的，所以很适合按照范围来查询。

索引基础使用索引优点
索引大大减少了服务器需要扫描的数据量。
索引可以帮助服务器避免排序和临时表。
索引可以将随机 I&#x2F;O 变为顺序 I&#x2F;O。

索引类型聚簇索引（主键索引）
一般是通过主键聚集索引，如果没有主键那么会选择一个非空唯一索引代替主键。聚簇索引占用空间最大，因为保存了全部的数据。因为高并发的瓶颈在于磁盘 IO ，如果树高为 3 则只需进行三次 IO 就能找到数据。数据挂载到叶子节点，叶子节点使用双向链表关联。


非聚簇索引（非主键索引、二级索引、辅助索引）
辅助索引，也称为二级索引，单张表可以有多个。InnoDB 辅助索引的叶子节点只存放对应索引字段的键值和主键 ID。为了减少回表次数，可以将语句中经常使用到的所有列以合适的顺序建立一个二级联合索引。有时创建二级索引可能比没创建索引执行的时间要长！因为如果索引选择性不高，先扫描索引再回表查数据 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/12/06/MySQL%20CPU%20%E9%A3%99%E9%AB%98/" title="MySQL CPU 飙高">MySQL CPU 飙高</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-06T00:23:57.000Z" title="发表于 2022-12-06 08:23:57">2022-12-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
正常使用过程中，如出现 CPU 飙高严重，通常是低效 SQL 语句导致的，处理过程如


show processlist 语句，查找负荷最重的 sql 语句。
优化存在问题的 sql 语句，如建立索引。
打开慢查询日志，将执行时间过长且占用资源过多的语句拿来 explain 分析。CPU 过高，多数是因为 order by 和 group by 语句所致，找到问题并慢慢优化改进。
考虑定期优化文件及索引。
定期分析表，使用 optimize table （尽管一张表删除了许多数据，但是这张表表的数据文件和索引文件却奇怪的没有变小。这是因为 mysql 在删除数据（特别是有 Text 和 BLOB）的时候，会留下许多的数据空洞，这些空洞会占据原来数据的空间，所以文件的大小没有改变。这些空洞在以后插入数据的时候可能会被再度利用起来，当然也有可能一直存在。这种空洞不仅额外增加了存储代价，同时也因为数据碎片化降低了表的扫描效率，在 OPTIMIZE TABLE 运行过程中，MySQL 会锁定表）。show table news，对于 myisam 可以直接使用 optimize table ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/11/29/MySQL%20%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/" title="MySQL 主从同步问题">MySQL 主从同步问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-29T07:29:54.000Z" title="发表于 2022-11-29 15:29:54">2022-11-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
数据库采用主从复制模式运行时，其中主数据库数据复制到从数据库中是存在延迟的，正常延迟的级别是毫秒。当主从复制延迟级别到秒甚至分钟时，需要检查和处理


检查主从复制状态。
检查二进制日志格式。（基于行、基于语句、mix 模式）
检查业务运行大的事务。
检查更新表的主键。
通过 show processlist（查看正在运行的线程） 查看执行时间 time

数据丢失问题
使用半同步复制解决

数据延时问题
并行复制

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/11/29/MySQL%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/" title="MySQL 集群部署">MySQL 集群部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-29T03:05:30.000Z" title="发表于 2022-11-29 11:05:30">2022-11-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
数据：&#x2F;Users&#x2F;mac&#x2F;project&#x2F;mysql&#x2F;data日志：&#x2F;Users&#x2F;mac&#x2F;project&#x2F;mysql&#x2F;log&#x2F;master

使用 docker 创建容器12345678910111213141516171819202122232425262728#master1docker run -p 3307:3306 --name mysql-master1 \-v /Users/mac/project/mysql/master1/log:/var/log/mysql \-v /Users/mac/project/mysql/master1/data:/var/lib/mysql \-v /Users/mac/project/mysql/master1/conf:/etc/mysql/conf.d \-e MYSQL_ROOT_PASSWORD=123456 -d mysql:8.0.27#master2docker run -p 3308:3306 --name  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/11/29/MySQL%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%92%8C%E7%A1%AC%E4%BB%B6%E4%BC%98%E5%8C%96/" title="MySQL 操作系统和硬件优化">MySQL 操作系统和硬件优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-29T01:36:18.000Z" title="发表于 2022-11-29 09:36:18">2022-11-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/mysql/">mysql</a></span></div><div class="content">
常见的瓶颈是 CPU 耗尽，当 mysql 执行并行执行太多查询，或者少量查询在 CPU 上运行太长时间时，就会发生 CPU 饱和。

如何为 mysql 选择 CPU
可以通过 cpu 使用率来确定工作负载是否受 cpu 限制，但是不要看 cpu 整体负载，而是查看最重要查询的 cpu 使用率和 IO 之间的平衡。并注意 cpu 负载是否均匀服务器要达到两个目标

低延迟：
高吞吐量


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/github.io/2022/11/25/%E6%9E%B6%E6%9E%84%E7%9A%84%E6%BC%94%E8%BF%9B/" title="架构的演进">架构的演进</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-25T00:38:08.000Z" title="发表于 2022-11-25 08:38:08">2022-11-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span></div><div class="content">单体架构
使用 LNMP 解决。


优点
部署简单。
技术单一。
成本低。

缺点
扩展性不足。业务越来越复杂，业务的扩展会增大。
单体架构并发性能有限。

应用与数据分离
应用由于要处理大量的请求，所以对 CPU 和内存有一定要求。数据库因为要对数据进行索引和存储等 IO 操作，所以会考虑磁盘的转速和内存。


目的：
解决不同服务对不同配置的要求。

缓存与性能提升
由于随着用户量请求的提升，请求量特别大，获取数据的方式主要依靠数据库，因此会受到 IO 性能的影响。数据库成为系统瓶颈，增加服务器数量也无法解决该问题。于是使用了缓存解决该问题。


客户端浏览缓存
当通过客户端请求浏览器，如果将请求数据缓存下来，极大的减小了服务器压力。

应用服务器本地缓存
这种缓存使用的进程内缓存，又叫托管堆缓存。

缓存服务器缓存
这种缓存相对于应用服务器的本地缓存来说就是进程外缓存。

服务器集群处理并发
并发：多个用户同时请求应用服务器。集群：多个服务器负载压力，提高性能和可用性。解决：用户高并发问题。


数据库读写分离
数据库对于读取和写入操作的性能是不一样的。在写入数据的时候，会造成 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/github.io/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/github.io/">1</a><span class="space">&hellip;</span><a class="page-number" href="/github.io/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/github.io/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/github.io/page/9/#content-inner">9</a><a class="extend next" rel="next" href="/github.io/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://thirdwx.qlogo.cn/mmopen/vi_32/BsLUROthXHzaLGgAuYiapwa4htsNc0H2MQ8sGkVHVNqib7viaqwhXK6KDXayjQBpkPY0gleTCqAcEPL1kEwjP9S0Q/132" onerror="this.onerror=null;this.src='/github.io/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">walker</div><div class="author-info__description">学如逆水行舟不进则退</div></div><div class="card-info-data site-data is-center"><a href="/github.io/archives/"><div class="headline">文章</div><div class="length-num">81</div></a><a href="/github.io/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/github.io/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lvyasen" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:18530893662@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/github.io/2023/01/02/%E5%B8%B8%E7%94%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="常用解决方案">常用解决方案</a><time datetime="2023-01-02T09:32:58.000Z" title="发表于 2023-01-02 17:32:58">2023-01-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/github.io/2023/01/02/Go%20ORM/" title="Go ORM">Go ORM</a><time datetime="2023-01-02T05:10:25.000Z" title="发表于 2023-01-02 13:10:25">2023-01-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/github.io/2022/12/31/Kubernetes%20%E9%83%A8%E7%BD%B2/" title="Kubernetes 部署">Kubernetes 部署</a><time datetime="2022-12-31T06:27:06.000Z" title="发表于 2022-12-31 14:27:06">2022-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/github.io/2022/12/31/Kubernetes%20%E5%AE%89%E8%A3%85/" title="Kubernetes 安装">Kubernetes 安装</a><time datetime="2022-12-31T06:01:53.000Z" title="发表于 2022-12-31 14:01:53">2022-12-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/github.io/2022/12/31/Kubernetes%20%E7%AE%80%E4%BB%8B/" title="Kubernetes 简介">Kubernetes 简介</a><time datetime="2022-12-31T05:51:00.000Z" title="发表于 2022-12-31 13:51:00">2022-12-31</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/PHP/"><span class="card-category-list-name">PHP</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/Redis/"><span class="card-category-list-name">Redis</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/hexo/"><span class="card-category-list-name">hexo</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">14</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"><span class="card-category-list-name">分布式</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/github.io/tags/go/" style="font-size: 1.37em; color: #99a4b2">go</a> <a href="/github.io/tags/go-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F/" style="font-size: 1.1em; color: #999">go 变量与常量</a> <a href="/github.io/tags/go%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size: 1.1em; color: #999">go字符串</a> <a href="/github.io/tags/hexo/" style="font-size: 1.23em; color: #999ea6">hexo</a> <a href="/github.io/tags/mysql/" style="font-size: 1.5em; color: #99a9bf">mysql</a> <a href="/github.io/tags/redis/" style="font-size: 1.5em; color: #99a9bf">redis</a> <a href="/github.io/tags/%E5%87%BD%E6%95%B0/" style="font-size: 1.1em; color: #999">函数</a> <a href="/github.io/tags/%E5%88%87%E7%89%87/" style="font-size: 1.1em; color: #999">切片</a> <a href="/github.io/tags/%E5%A4%8D%E5%88%B6/" style="font-size: 1.1em; color: #999">复制</a> <a href="/github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 1.1em; color: #999">性能优化</a> <a href="/github.io/tags/%E6%8E%A5%E5%8F%A3/" style="font-size: 1.1em; color: #999">接口</a> <a href="/github.io/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" style="font-size: 1.1em; color: #999">数据类型</a> <a href="/github.io/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1.1em; color: #999">架构</a> <a href="/github.io/tags/%E9%80%9A%E9%81%93/" style="font-size: 1.1em; color: #999">通道</a> <a href="/github.io/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 1.23em; color: #999ea6">配置</a> <a href="/github.io/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.1em; color: #999">面试</a> <a href="/github.io/tags/%E9%9D%A2%E8%AF%95%EF%BC%8Cgo/" style="font-size: 1.1em; color: #999">面试，go</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/github.io/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/github.io/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">54</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/github.io/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/github.io/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/github.io/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">12</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">81</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-01-03T02:07:56.978Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By walker</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/github.io/js/utils.js"></script><script src="/github.io/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>